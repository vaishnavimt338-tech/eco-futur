<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>EcoFutur 2.0 â€“ Carbon Tracker & Games</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --green: #1fa46a;
      --green2: #2ec08a;
      --bg: #f7fbff;
      --muted: #6b7280;
      --shadow: 0 10px 30px rgba(45,77,60,0.08);
      font-family: "Poppins", sans-serif;
    }
    body {
      margin: 0;
      background: linear-gradient(180deg,var(--bg) 0%,#eef9f2 100%);
      color:#052b1b;
    }
    header {
      display:flex;justify-content:space-between;align-items:center;
      padding:20px 40px;background:white;box-shadow:var(--shadow);
      position:sticky;top:0;z-index:10;
    }
    .logo {font-size:24px;font-weight:700;color:var(--green);}
    .container {max-width:900px;margin:40px auto;padding:20px;}
    .card {
      background:white;border-radius:16px;padding:24px;
      box-shadow:var(--shadow);margin-bottom:20px;
    }
    label {display:block;margin-top:10px;font-weight:600;}
    input {
      width:100%;padding:10px;border-radius:10px;
      border:1px solid #cfd8dc;margin-top:6px;font-size:15px;
    }
    button {
      background:linear-gradient(90deg,var(--green),var(--green2));
      color:white;border:none;padding:10px 20px;border-radius:10px;
      font-size:16px;cursor:pointer;margin-top:20px;
    }
    .result {text-align:center;margin-top:30px;}
    .dial {
      width:200px;height:200px;margin:auto;border-radius:50%;
      display:flex;align-items:center;justify-content:center;
      background:conic-gradient(var(--green) 0deg 0deg,#e6f6ec 0deg 360deg);
      box-shadow:inset 0 0 10px rgba(0,0,0,0.1);
    }
    .dial-value {font-size:28px;font-weight:700;}
    .reward {background:#e6ffe9;padding:10px;border-radius:10px;margin-top:10px;}
    table {width:100%;border-collapse:collapse;margin-top:10px;}
    th, td {padding:10px;text-align:left;border-bottom:1px solid #eee;}
    th {background:#f0fdf4;}
    .challenge-list label {display:flex;align-items:center;gap:8px;margin-top:8px;}
    iframe {border:none;border-radius:10px;}
    .grid {
      display: grid;
      grid-template-columns: repeat(3, 100px);
      gap: 5px;
      justify-content: center;
      margin-top: 10px;
    }
    .cell {
      width: 100px;
      height: 100px;
      font-size: 36px;
      font-weight: bold;
      background: #f0fdf4;
      border: 2px solid #ccc;
      border-radius: 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }
  </style>
</head>
<body>
<header>
  <div class="logo">ğŸŒ¿ EcoFutur 2.0</div>
  <nav><small style="color:var(--muted)">Carbon Tracker & Game Hub</small></nav>
</header>

<div class="container">

  <div class="card">
    <h2>ğŸ‘¤ Your Name</h2>
    <input type="text" id="username" placeholder="Enter your name">
  </div>

  <div class="card">
    <h2>Enter Your Daily Activities</h2>
    <label>ğŸš— Kilometers driven (car)</label>
    <input type="number" id="car" min="0">
    <label>ğŸš´â€â™€ï¸ Kilometers cycled</label>
    <input type="number" id="bike" min="0">
    <label>ğŸ’¡ Electricity used (kWh)</label>
    <input type="number" id="electric" min="0">
    <label>ğŸ” Meat meals eaten</label>
    <input type="number" id="meals" min="0">
    <button onclick="calculate()">Calculate My Footprint</button>
  </div>

  <div class="card result">
    <div class="dial" id="dial"><div class="dial-value" id="percent">0%</div></div>
    <h3 id="status">Start tracking your footprint!</h3>
    <div id="reward" class="reward" style="display:none;"></div>
    <button onclick="resetData()">ğŸ”„ Reset Data</button>
  </div>

  <div class="card">
    <h2>ğŸ† Leaderboard</h2>
    <table id="leaderboard">
      <thead><tr><th>Rank</th><th>Name</th><th>Score</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>

  <div class="card">
    <h2>ğŸ”¥ Daily Challenges</h2>
    <div class="challenge-list">
      <label><input type="checkbox" value="10"> ğŸŒ± Plant a tree (+10)</label>
      <label><input type="checkbox" value="5"> ğŸš¶ Walk 5,000 steps (+5)</label>
      <label><input type="checkbox" value="8"> ğŸš´ Cycle to work (+8)</label>
      <label><input type="checkbox" value="6"> ğŸ¥¦ Eat a plant-based meal (+6)</label>
    </div>
    <button onclick="claimChallenges()">Claim Points</button>
  </div>

  <div class="card">
    <h2>ğŸƒ Play Solitaire</h2>
    <iframe src="https://www.solitr.com/" width="100%" height="400"></iframe>
  </div>

  <div class="card">
  <h2>ğŸ“š Explore Books â€“ Open Library</h2>
  <iframe src="https://openlibrary.org/subjects/science_fiction" width="100%" height="400"></iframe>
</div>

  <div class="card">
    <h2>ğŸ§  Memory Match</h2>
    <iframe src="https://matchthememory.com/" width="100%" height="400"></iframe>
  </div>

</div>

<script>
// Carbon Tracker
const dial = document.getElementById('dial');
const percent = document.getElementById('percent');
const status = document.getElementById('status');
const rewardBox = document.getElementById('reward');
const leaderboardBody = document.querySelector('#leaderboard tbody');

function calculate() {
  const name = document.getElementById('username').value.trim() || "Guest";
  const car = +document.getElementById('car').value || 0;
  const bike = +document.getElementById('bike').value || 0;
  const electric = +document.getElementById('electric').value || 0;
  const meals = +document.getElementById('meals').value || 0;

  const total = car*0.2 + electric*0.5 + meals*1.5 - bike*0.02;
  const score = Math.max(0, Math.min(100, 100 - (total/100*100)));

  updateDial(score);
  updateLeaderboard(name, score);
}

function updateDial(score) {
  const deg = Math.round((score/100)*360);
  dial.style.background = `conic-gradient(var(--green) 0deg ${deg}deg,#e6f6ec ${deg}deg 360deg)`;
  percent.textContent = Math.round(score)+'%';
  if (score > 80) {
    status.textContent = "ğŸŒ Excellent! You're a true eco-hero!";
    showReward("ğŸŸï¸ Movie Coupon â€“ Buy 1 Get 1 Free!");
  } else if (score > 50) {
    status.textContent = "ğŸ’š Good job! Keep it up!";
    hideReward();
  } else {
    status.textContent = "âš ï¸ Try improving your eco habits!";
